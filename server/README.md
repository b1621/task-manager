This is a code skeleton template for Hibir and other Go API projects. The code structure is heavily influenced by the clean code architecture.

The structure of the skeleton is as follows:
- Docs: the documentation of the application. Currently has an autogenerated API documentation but it will be used as a place to keep all other types of documentation as well.
- Internal: The functionality of the application. It contains the app, the configuration, and the middleware. Each part will be described in this page at a later section. 
- postgres: This folder contains a docker compose configuration to quickly set up a postgres database.
- tests: This is where unit tests for the API handlers is written. 
- main.go: This is the main function of our program is found and which is what we will use to run our application.
- .env: Environmental variables that the application will use to connect to the database, set session duration, and more. 

Let's take a deeper look at internal as it contains a lot of our functionality.
Inside internal, there are the following components:
- app: This is where all the business logic and functionality of the application is found. It has additional classifications which we will discuss below.
- config: This is where the configuration loader is located. It will read and load the .env file to be used by the application.
- middleware: This is where system-wide middlewares are found. No middleware is built yet  but ideally this is where the logger will be. 

The app folders is where developers will spend 90% of the time in this code structrue. It will have the following folders:
- handler: This will contain the API endpoint routes(routes.go), the API handlers(handlers.go), and the middleware(middleware.go) used by the API handlers.
- model: This will contain the Go structs that are used to create the database table.
- repository: This will contain the functions to access the database as well as the DatabaseRepository(repository.go) interface which allows you to use multiple types of databases as long as their functionality is implemented. At the moment, postgres(postgres.go) is implemented.
- service: This will contain helpers for the database-related functions and use cases of the application as structs which the API handler and Database functions can use to bring the expected functionality of the application

A developer creating a full functionality from scratch would typically go through the following steps:
1. Create the needed database table in models.go
2. Automigrate that to the database in repository.go, specially the NewPostgresRepository function.
3. Create the use cases in service.go if deemed necessary(it might not be if you have everything you need in models.go).
3. Create the needed database functions for the functionality in postgres.go.
4. Add the database functions to the DatabaseRespository in repository.go
5. Go to handlers.go and create your API handler for the functionality.
6. Go to routes.go and declare your route in the appopriate area depending on which roles can can access it.
7. Write a unit tests in api_test.go to check the functionality of the new feature. 

To run the application write the following commands(assuming you are in the root directory of the project):
`cd postgres`
`sudo docker-compose up -d`
`cd ..`
`go run main.go` 
